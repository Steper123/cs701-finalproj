{"ast":null,"code":"var _jsxFileName = \"/Users/steper123/Desktop/CS_701/Term_Project/actualAPP/client/src/components/LineupPlayer.js\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Container, Button, Row, Col } from \"reactstrap\";\n\nconst LineupPlayer = ({\n  playerId\n}) => {\n  const [season, setSeason] = React.useState(null);\n  const [actualPlayer, setActualPlayer] = React.useState(null);\n\n  function gatherStats(plays, pos) {\n    if (pos == 0) {\n      let pitchesSeen = 0;\n      let pAs = 0;\n      let aBs = 0;\n      let singles = 0;\n      let doubles = 0;\n      let triples = 0;\n      let homers = 0;\n      let rbis = 0;\n      let runs = 0;\n      let sbs = 0;\n      let bbs = 0;\n      plays.forEach(play => {\n        pitchesSeen = pitchesSeen + 1;\n        const collectionPlay = play.hitterResult.split(\" \");\n\n        if (!collectionPlay.includes(\"ball\") && !collectionPlay.includes(\"strike\")) {\n          pAs = pAs + 1;\n\n          if (!collectionPlay.includes(\"walk\")) {\n            aBs = aBs + 1;\n\n            if (collectionPlay.includes(\"single\")) {\n              singles = singles + 1;\n            } else if (collectionPlay.includes(\"double\")) {\n              doubles = doubles + 1;\n            } else if (collectionPlay.includes(\"triple\")) {\n              triples = triples + 1;\n            } else if (collectionPlay.includes(\"homerun\")) {\n              homers = homers + 1;\n            }\n          } else {\n            bbs = bbs + 1;\n          }\n\n          if (collectionPlay.includes(\"run\") || collectionPlay.includes(\"runs\")) {\n            if (collectionPlay.includes(\"one\")) {\n              rbis = rbis + 1;\n            } else if (collectionPlay.includes(\"two\")) {\n              rbis = rbis + 2;\n            } else if (collectionPlay.includes(\"three\")) {\n              rbis = rbis + 3;\n            } else {\n              rbis = rbis + 4;\n            }\n          }\n        }\n      });\n      return {\n        pitchesSeen: pitchesSeen,\n        pAs: pAs,\n        aBs: aBs,\n        singles: singles,\n        doubles: doubles,\n        triples: triples,\n        homers: homers,\n        rbis: rbis,\n        runs: runs,\n        sbs: sbs,\n        bbs: bbs\n      };\n    } else {\n      let pitchesThrown = 0;\n      let fbs = 0;\n      let chs = 0;\n      let cvs = 0;\n      let other = 0;\n      let outsRecord = 0;\n      let hA = 0;\n      let rA = 0;\n      let ks = 0;\n      let bbs = 0;\n      plays.forEach(play => {\n        pitchesThrown = pitchesThrown + 1; //Pitch Type\n\n        if (play.pitchType == \"fastball\") {\n          fbs = fbs + 1;\n        } else if (play.pitchType == \"changeup\") {\n          chs = chs + 1;\n        } else if (play.pitchType == \"curveball\") {\n          cvs = cvs + 1;\n        } else {\n          other = other + 1;\n        } //Result\n\n\n        const collectionPlay = play.hitterResult.split(\" \");\n\n        if (collectionPlay.includes(\"single\") || collectionPlay.includes(\"double\") || collectionPlay.includes(\"triple\") || collectionPlay.includes(\"homerun\")) {\n          hA = hA + 1;\n\n          if (collectionPlay.includes(\"run\") || collectionPlay.includes(\"runs\")) {\n            if (collectionPlay.includes(\"one\")) {\n              rA = rA + 1;\n            } else if (collectionPlay.includes(\"two\")) {\n              rA = rA + 2;\n            } else if (collectionPlay.includes(\"three\")) {\n              rA = rA + 3;\n            } else {\n              rA = rA + 4;\n            }\n          }\n        } else if (collectionPlay.includes(\"strikeout\")) {\n          ks = ks + 1;\n          outsRecord = outsRecord + 1;\n        } else if (collectionPlay.includes(\"walk\")) {\n          bbs = bbs + 1;\n        } else if (!collectionPlay.includes(\"ball\") || !collectionPlay.includes(\"strike\")) {\n          outsRecord = outsRecord + 1;\n        }\n      });\n      return {\n        pitchesThrown: pitchesThrown,\n        fbs: fbs,\n        chs: chs,\n        cvs: cvs,\n        other: other,\n        hA: hA,\n        rA: rA,\n        ks: ks,\n        bbs: bbs\n      };\n    }\n  }\n\n  useEffect(() => {\n    const theGuy = fetch(`api/players`).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(response.statusText);\n    }).then(fetchedPlayers => {\n      const myGuy = fetchedPlayers.filter(player => player.id == playerId);\n      setActualPlayer(myGuy[0]);\n      return myGuy[0];\n    }).catch(err => {\n      console.error(err);\n    });\n    theGuy.then(person => {\n      console.log(person);\n      fetch(`api/plays`).then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n\n        throw new Error(response.statusText);\n      }).then(fetchedPlays => {\n        if (person.position != 1) {\n          const myTotPlays = fetchedPlays.filter(play => person.id == play.hitterId);\n          setSeason(gatherStats(myTotPlays, 0));\n        } else {\n          const myTotPlays = fetchedPlays.filter(play => person.id == play.pitcherId);\n          setSeason(gatherStats(myTotPlays, 1));\n        }\n      }).catch(err => {\n        console.error(err);\n      });\n    });\n  }, [playerId]);\n\n  if (actualPlayer != null && season != null) {\n    if (actualPlayer.position != 1) {\n      return /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }\n      }, actualPlayer.name), /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }\n      }, (season.singles + season.doubles + season.triples + season.homeruns) / season.aBs), /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }\n      }, (season.singles + season.doubles + season.triples + season.homeruns + season.bbs) / season.pAs), /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }\n      }, (season.singles * 1 + season.doubles * 2 + season.triples * 3 + season.homers * 4) / season.aBs));\n    } else {\n      console.log(season);\n      return /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }\n      }, actualPlayer.name), /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }\n      }, season.rA * 9 / (season.outsRecord / 3)), /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }\n      }, (season.hA + season.bbs) / (season.outsRecord / 3)), /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }\n      }, season.ks / (season.outsRecord / 3)));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }, \"Loading...\");\n};\n\nexport default LineupPlayer;","map":{"version":3,"sources":["/Users/steper123/Desktop/CS_701/Term_Project/actualAPP/client/src/components/LineupPlayer.js"],"names":["React","useState","useEffect","styled","Container","Button","Row","Col","LineupPlayer","playerId","season","setSeason","actualPlayer","setActualPlayer","gatherStats","plays","pos","pitchesSeen","pAs","aBs","singles","doubles","triples","homers","rbis","runs","sbs","bbs","forEach","play","collectionPlay","hitterResult","split","includes","pitchesThrown","fbs","chs","cvs","other","outsRecord","hA","rA","ks","pitchType","theGuy","fetch","then","response","ok","json","Error","statusText","fetchedPlayers","myGuy","filter","player","id","catch","err","console","error","person","log","fetchedPlays","position","myTotPlays","hitterId","pitcherId","name","homeruns"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,GAA5B,EAAiCC,GAAjC,QAA4C,YAA5C;;AAEA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACrC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBX,KAAK,CAACC,QAAN,CAAe,IAAf,CAA5B;AACA,QAAM,CAACW,YAAD,EAAeC,eAAf,IAAkCb,KAAK,CAACC,QAAN,CAAe,IAAf,CAAxC;;AAEA,WAASa,WAAT,CAAqBC,KAArB,EAA4BC,GAA5B,EAAiC;AAC/B,QAAIA,GAAG,IAAI,CAAX,EAAc;AACZ,UAAIC,WAAW,GAAG,CAAlB;AACA,UAAIC,GAAG,GAAG,CAAV;AACA,UAAIC,GAAG,GAAG,CAAV;AACA,UAAIC,OAAO,GAAG,CAAd;AACA,UAAIC,OAAO,GAAG,CAAd;AACA,UAAIC,OAAO,GAAG,CAAd;AACA,UAAIC,MAAM,GAAG,CAAb;AACA,UAAIC,IAAI,GAAG,CAAX;AACA,UAAIC,IAAI,GAAG,CAAX;AACA,UAAIC,GAAG,GAAG,CAAV;AACA,UAAIC,GAAG,GAAG,CAAV;AAEAZ,MAAAA,KAAK,CAACa,OAAN,CAAcC,IAAI,IAAI;AACpBZ,QAAAA,WAAW,GAAGA,WAAW,GAAG,CAA5B;AACA,cAAMa,cAAc,GAAGD,IAAI,CAACE,YAAL,CAAkBC,KAAlB,CAAwB,GAAxB,CAAvB;;AACA,YAAI,CAACF,cAAc,CAACG,QAAf,CAAwB,MAAxB,CAAD,IAAoC,CAACH,cAAc,CAACG,QAAf,CAAwB,QAAxB,CAAzC,EAA4E;AAC1Ef,UAAAA,GAAG,GAAGA,GAAG,GAAG,CAAZ;;AACA,cAAI,CAACY,cAAc,CAACG,QAAf,CAAwB,MAAxB,CAAL,EAAsC;AACpCd,YAAAA,GAAG,GAAGA,GAAG,GAAG,CAAZ;;AACA,gBAAIW,cAAc,CAACG,QAAf,CAAwB,QAAxB,CAAJ,EAAuC;AACrCb,cAAAA,OAAO,GAAGA,OAAO,GAAG,CAApB;AACD,aAFD,MAGK,IAAIU,cAAc,CAACG,QAAf,CAAwB,QAAxB,CAAJ,EAAuC;AAC1CZ,cAAAA,OAAO,GAAGA,OAAO,GAAG,CAApB;AACD,aAFI,MAGA,IAAIS,cAAc,CAACG,QAAf,CAAwB,QAAxB,CAAJ,EAAuC;AAC1CX,cAAAA,OAAO,GAAGA,OAAO,GAAG,CAApB;AACD,aAFI,MAGA,IAAIQ,cAAc,CAACG,QAAf,CAAwB,SAAxB,CAAJ,EAAwC;AAC3CV,cAAAA,MAAM,GAAGA,MAAM,GAAG,CAAlB;AACD;AACF,WAdD,MAeK;AACHI,YAAAA,GAAG,GAAGA,GAAG,GAAG,CAAZ;AACD;;AACD,cAAIG,cAAc,CAACG,QAAf,CAAwB,KAAxB,KAAkCH,cAAc,CAACG,QAAf,CAAwB,MAAxB,CAAtC,EAAuE;AACrE,gBAAIH,cAAc,CAACG,QAAf,CAAwB,KAAxB,CAAJ,EAAoC;AAClCT,cAAAA,IAAI,GAAGA,IAAI,GAAG,CAAd;AACD,aAFD,MAGK,IAAIM,cAAc,CAACG,QAAf,CAAwB,KAAxB,CAAJ,EAAoC;AACvCT,cAAAA,IAAI,GAAGA,IAAI,GAAG,CAAd;AACD,aAFI,MAGA,IAAIM,cAAc,CAACG,QAAf,CAAwB,OAAxB,CAAJ,EAAsC;AACzCT,cAAAA,IAAI,GAAGA,IAAI,GAAG,CAAd;AACD,aAFI,MAGA;AACHA,cAAAA,IAAI,GAAGA,IAAI,GAAG,CAAd;AACD;AACF;AACF;AACF,OAtCD;AAwCA,aAAQ;AACNP,QAAAA,WAAW,EAAEA,WADP;AAENC,QAAAA,GAAG,EAAEA,GAFC;AAGNC,QAAAA,GAAG,EAAEA,GAHC;AAINC,QAAAA,OAAO,EAAEA,OAJH;AAKNC,QAAAA,OAAO,EAAEA,OALH;AAMNC,QAAAA,OAAO,EAAEA,OANH;AAONC,QAAAA,MAAM,EAAEA,MAPF;AAQNC,QAAAA,IAAI,EAAEA,IARA;AASNC,QAAAA,IAAI,EAAEA,IATA;AAUNC,QAAAA,GAAG,EAAEA,GAVC;AAWNC,QAAAA,GAAG,EAAEA;AAXC,OAAR;AAaD,KAlED,MAmEK;AACH,UAAIO,aAAa,GAAG,CAApB;AACA,UAAIC,GAAG,GAAG,CAAV;AACA,UAAIC,GAAG,GAAG,CAAV;AACA,UAAIC,GAAG,GAAG,CAAV;AACA,UAAIC,KAAK,GAAG,CAAZ;AACA,UAAIC,UAAU,GAAG,CAAjB;AACA,UAAIC,EAAE,GAAG,CAAT;AACA,UAAIC,EAAE,GAAG,CAAT;AACA,UAAIC,EAAE,GAAG,CAAT;AACA,UAAIf,GAAG,GAAG,CAAV;AAEAZ,MAAAA,KAAK,CAACa,OAAN,CAAcC,IAAI,IAAI;AACpBK,QAAAA,aAAa,GAAGA,aAAa,GAAG,CAAhC,CADoB,CAEpB;;AACA,YAAIL,IAAI,CAACc,SAAL,IAAkB,UAAtB,EAAkC;AAChCR,UAAAA,GAAG,GAAGA,GAAG,GAAG,CAAZ;AACD,SAFD,MAGK,IAAIN,IAAI,CAACc,SAAL,IAAkB,UAAtB,EAAkC;AACrCP,UAAAA,GAAG,GAAGA,GAAG,GAAG,CAAZ;AACD,SAFI,MAGA,IAAIP,IAAI,CAACc,SAAL,IAAkB,WAAtB,EAAmC;AACtCN,UAAAA,GAAG,GAAGA,GAAG,GAAG,CAAZ;AACD,SAFI,MAGA;AACHC,UAAAA,KAAK,GAAGA,KAAK,GAAG,CAAhB;AACD,SAdmB,CAepB;;;AACA,cAAMR,cAAc,GAAGD,IAAI,CAACE,YAAL,CAAkBC,KAAlB,CAAwB,GAAxB,CAAvB;;AACA,YAAIF,cAAc,CAACG,QAAf,CAAwB,QAAxB,KAAqCH,cAAc,CAACG,QAAf,CAAwB,QAAxB,CAArC,IAA0EH,cAAc,CAACG,QAAf,CAAwB,QAAxB,CAA1E,IAA+GH,cAAc,CAACG,QAAf,CAAwB,SAAxB,CAAnH,EAAuJ;AACrJO,UAAAA,EAAE,GAAGA,EAAE,GAAG,CAAV;;AACA,cAAIV,cAAc,CAACG,QAAf,CAAwB,KAAxB,KAAkCH,cAAc,CAACG,QAAf,CAAwB,MAAxB,CAAtC,EAAuE;AACrE,gBAAIH,cAAc,CAACG,QAAf,CAAwB,KAAxB,CAAJ,EAAoC;AAClCQ,cAAAA,EAAE,GAAGA,EAAE,GAAG,CAAV;AACD,aAFD,MAGK,IAAIX,cAAc,CAACG,QAAf,CAAwB,KAAxB,CAAJ,EAAoC;AACvCQ,cAAAA,EAAE,GAAGA,EAAE,GAAG,CAAV;AACD,aAFI,MAGA,IAAIX,cAAc,CAACG,QAAf,CAAwB,OAAxB,CAAJ,EAAsC;AACzCQ,cAAAA,EAAE,GAAGA,EAAE,GAAG,CAAV;AACD,aAFI,MAGA;AACHA,cAAAA,EAAE,GAAGA,EAAE,GAAG,CAAV;AACD;AACF;AACF,SAhBD,MAiBK,IAAIX,cAAc,CAACG,QAAf,CAAwB,WAAxB,CAAJ,EAA0C;AAC7CS,UAAAA,EAAE,GAAGA,EAAE,GAAG,CAAV;AACAH,UAAAA,UAAU,GAAGA,UAAU,GAAG,CAA1B;AACD,SAHI,MAIA,IAAIT,cAAc,CAACG,QAAf,CAAwB,MAAxB,CAAJ,EAAqC;AACxCN,UAAAA,GAAG,GAAGA,GAAG,GAAG,CAAZ;AACD,SAFI,MAGA,IAAI,CAACG,cAAc,CAACG,QAAf,CAAwB,MAAxB,CAAD,IAAoC,CAACH,cAAc,CAACG,QAAf,CAAwB,QAAxB,CAAzC,EAA4E;AAC/EM,UAAAA,UAAU,GAAGA,UAAU,GAAG,CAA1B;AACD;AACF,OA5CD;AA8CA,aAAQ;AACNL,QAAAA,aAAa,EAAEA,aADT;AAENC,QAAAA,GAAG,EAAEA,GAFC;AAGNC,QAAAA,GAAG,EAAEA,GAHC;AAINC,QAAAA,GAAG,EAAEA,GAJC;AAKNC,QAAAA,KAAK,EAAEA,KALD;AAMNE,QAAAA,EAAE,EAAEA,EANE;AAONC,QAAAA,EAAE,EAAEA,EAPE;AAQNC,QAAAA,EAAE,EAAEA,EARE;AASNf,QAAAA,GAAG,EAAEA;AATC,OAAR;AAWD;AACF;;AAEDzB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAM0C,MAAM,GAAGC,KAAK,CAAE,aAAF,CAAL,CACZC,IADY,CACNC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,eAAOD,QAAQ,CAACE,IAAT,EAAP;AACD;;AACD,YAAM,IAAIC,KAAJ,CAAUH,QAAQ,CAACI,UAAnB,CAAN;AACD,KANY,EAOZL,IAPY,CAONM,cAAD,IAAoB;AACxB,YAAMC,KAAK,GAAGD,cAAc,CAACE,MAAf,CAAsBC,MAAM,IAAIA,MAAM,CAACC,EAAP,IAAa/C,QAA7C,CAAd;AACAI,MAAAA,eAAe,CAACwC,KAAK,CAAC,CAAD,CAAN,CAAf;AACA,aAAOA,KAAK,CAAC,CAAD,CAAZ;AACD,KAXY,EAWVI,KAXU,CAWJC,GAAG,IAAI;AACdC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,KAbY,CAAf;AAeAd,IAAAA,MAAM,CAACE,IAAP,CAAae,MAAD,IAAY;AACtBF,MAAAA,OAAO,CAACG,GAAR,CAAYD,MAAZ;AACAhB,MAAAA,KAAK,CAAE,WAAF,CAAL,CACGC,IADH,CACSC,QAAD,IAAc;AAClB,YAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,iBAAOD,QAAQ,CAACE,IAAT,EAAP;AACD;;AACD,cAAM,IAAIC,KAAJ,CAAUH,QAAQ,CAACI,UAAnB,CAAN;AACD,OANH,EAOGL,IAPH,CAOSiB,YAAD,IAAkB;AACtB,YAAIF,MAAM,CAACG,QAAP,IAAmB,CAAvB,EAA0B;AACxB,gBAAMC,UAAU,GAAGF,YAAY,CAACT,MAAb,CAAoBzB,IAAI,IAAIgC,MAAM,CAACL,EAAP,IAAa3B,IAAI,CAACqC,QAA9C,CAAnB;AACAvD,UAAAA,SAAS,CAACG,WAAW,CAACmD,UAAD,EAAa,CAAb,CAAZ,CAAT;AACD,SAHD,MAIK;AACH,gBAAMA,UAAU,GAAGF,YAAY,CAACT,MAAb,CAAoBzB,IAAI,IAAIgC,MAAM,CAACL,EAAP,IAAa3B,IAAI,CAACsC,SAA9C,CAAnB;AACAxD,UAAAA,SAAS,CAACG,WAAW,CAACmD,UAAD,EAAa,CAAb,CAAZ,CAAT;AACD;AACF,OAhBH,EAgBKR,KAhBL,CAgBWC,GAAG,IAAI;AACdC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,OAlBH;AAqBD,KAvBD;AAwBD,GAxCM,EAwCJ,CAACjD,QAAD,CAxCI,CAAT;;AA0CA,MAAIG,YAAY,IAAI,IAAhB,IAAwBF,MAAM,IAAI,IAAtC,EAA4C;AAC1C,QAAIE,YAAY,CAACoD,QAAb,IAAyB,CAA7B,EAAgC;AAC9B,0BACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASpD,YAAY,CAACwD,IAAtB,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQ,CAAC1D,MAAM,CAACU,OAAP,GAAiBV,MAAM,CAACW,OAAxB,GAAkCX,MAAM,CAACY,OAAzC,GAAmDZ,MAAM,CAAC2D,QAA3D,IAAsE3D,MAAM,CAACS,GAArF,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQ,CAACT,MAAM,CAACU,OAAP,GAAiBV,MAAM,CAACW,OAAxB,GAAkCX,MAAM,CAACY,OAAzC,GAAmDZ,MAAM,CAAC2D,QAA1D,GAAqE3D,MAAM,CAACiB,GAA7E,IAAmFjB,MAAM,CAACQ,GAAlG,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQ,CAAER,MAAM,CAACU,OAAP,GAAe,CAAhB,GAAsBV,MAAM,CAACW,OAAP,GAAe,CAArC,GAA2CX,MAAM,CAACY,OAAP,GAAe,CAA1D,GAAgEZ,MAAM,CAACa,MAAP,GAAc,CAA/E,IAAoFb,MAAM,CAACS,GAAnG,CAJF,CADJ;AAQD,KATD,MAUK;AACHwC,MAAAA,OAAO,CAACG,GAAR,CAAYpD,MAAZ;AACA,0BACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASE,YAAY,CAACwD,IAAtB,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAS1D,MAAM,CAAC+B,EAAP,GAAU,CAAX,IAAe/B,MAAM,CAAC6B,UAAP,GAAkB,CAAjC,CAAR,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQ,CAAC7B,MAAM,CAAC8B,EAAP,GAAY9B,MAAM,CAACiB,GAApB,KAA0BjB,MAAM,CAAC6B,UAAP,GAAkB,CAA5C,CAAR,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAS7B,MAAM,CAACgC,EAAR,IAAahC,MAAM,CAAC6B,UAAP,GAAkB,CAA/B,CAAR,CAJF,CADF;AAUD;AACF;;AAED,sBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAR;AAKD,CAzND;;AA2NA,eAAe/B,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Container, Button, Row, Col } from \"reactstrap\";\n\nconst LineupPlayer = ({ playerId }) => {\n  const [season, setSeason] = React.useState(null);\n  const [actualPlayer, setActualPlayer] = React.useState(null);\n\n  function gatherStats(plays, pos) {\n    if (pos == 0) {\n      let pitchesSeen = 0;\n      let pAs = 0;\n      let aBs = 0;\n      let singles = 0;\n      let doubles = 0;\n      let triples = 0;\n      let homers = 0;\n      let rbis = 0;\n      let runs = 0;\n      let sbs = 0;\n      let bbs = 0;\n\n      plays.forEach(play => {\n        pitchesSeen = pitchesSeen + 1;\n        const collectionPlay = play.hitterResult.split(\" \");\n        if (!collectionPlay.includes(\"ball\") && !collectionPlay.includes(\"strike\")) {\n          pAs = pAs + 1;\n          if (!collectionPlay.includes(\"walk\")) {\n            aBs = aBs + 1;\n            if (collectionPlay.includes(\"single\")) {\n              singles = singles + 1;\n            }\n            else if (collectionPlay.includes(\"double\")) {\n              doubles = doubles + 1;\n            }\n            else if (collectionPlay.includes(\"triple\")) {\n              triples = triples + 1;\n            }\n            else if (collectionPlay.includes(\"homerun\")) {\n              homers = homers + 1;\n            }\n          }\n          else {\n            bbs = bbs + 1;\n          }\n          if (collectionPlay.includes(\"run\") || collectionPlay.includes(\"runs\")) {\n            if (collectionPlay.includes(\"one\")) {\n              rbis = rbis + 1;\n            }\n            else if (collectionPlay.includes(\"two\")) {\n              rbis = rbis + 2;\n            }\n            else if (collectionPlay.includes(\"three\")) {\n              rbis = rbis + 3;\n            }\n            else {\n              rbis = rbis + 4;\n            }\n          }\n        }\n      });\n\n      return ({\n        pitchesSeen: pitchesSeen,\n        pAs: pAs,\n        aBs: aBs,\n        singles: singles,\n        doubles: doubles,\n        triples: triples,\n        homers: homers,\n        rbis: rbis,\n        runs: runs,\n        sbs: sbs,\n        bbs: bbs\n      });\n    }\n    else {\n      let pitchesThrown = 0;\n      let fbs = 0;\n      let chs = 0;\n      let cvs = 0;\n      let other = 0;\n      let outsRecord = 0;\n      let hA = 0;\n      let rA = 0;\n      let ks = 0;\n      let bbs = 0;\n\n      plays.forEach(play => {\n        pitchesThrown = pitchesThrown + 1;\n        //Pitch Type\n        if (play.pitchType == \"fastball\") {\n          fbs = fbs + 1;\n        }\n        else if (play.pitchType == \"changeup\") {\n          chs = chs + 1;\n        }\n        else if (play.pitchType == \"curveball\") {\n          cvs = cvs + 1;\n        }\n        else {\n          other = other + 1;\n        }\n        //Result\n        const collectionPlay = play.hitterResult.split(\" \");\n        if (collectionPlay.includes(\"single\") || collectionPlay.includes(\"double\") || collectionPlay.includes(\"triple\") || collectionPlay.includes(\"homerun\")) {\n          hA = hA + 1;\n          if (collectionPlay.includes(\"run\") || collectionPlay.includes(\"runs\")) {\n            if (collectionPlay.includes(\"one\")) {\n              rA = rA + 1;\n            }\n            else if (collectionPlay.includes(\"two\")) {\n              rA = rA + 2;\n            }\n            else if (collectionPlay.includes(\"three\")) {\n              rA = rA + 3;\n            }\n            else {\n              rA = rA + 4;\n            }\n          }\n        }\n        else if (collectionPlay.includes(\"strikeout\")) {\n          ks = ks + 1;\n          outsRecord = outsRecord + 1;\n        }\n        else if (collectionPlay.includes(\"walk\")) {\n          bbs = bbs + 1;\n        }\n        else if (!collectionPlay.includes(\"ball\") || !collectionPlay.includes(\"strike\")) {\n          outsRecord = outsRecord + 1;\n        }\n      });\n\n      return ({\n        pitchesThrown: pitchesThrown,\n        fbs: fbs,\n        chs: chs,\n        cvs: cvs,\n        other: other,\n        hA: hA,\n        rA: rA,\n        ks: ks,\n        bbs: bbs\n      });\n    }\n  }\n\n  useEffect(() => {\n      const theGuy = fetch(`api/players`)\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          throw new Error(response.statusText);\n        })\n        .then((fetchedPlayers) => {\n          const myGuy = fetchedPlayers.filter(player => player.id == playerId);\n          setActualPlayer(myGuy[0]);\n          return myGuy[0];\n        }).catch(err => {\n          console.error(err);\n        });\n\n      theGuy.then((person) => {\n        console.log(person);\n        fetch(`api/plays`)\n          .then((response) => {\n            if (response.ok) {\n              return response.json();\n            }\n            throw new Error(response.statusText);\n          })\n          .then((fetchedPlays) => {\n            if (person.position != 1) {\n              const myTotPlays = fetchedPlays.filter(play => person.id == play.hitterId);\n              setSeason(gatherStats(myTotPlays, 0));\n            }\n            else {\n              const myTotPlays = fetchedPlays.filter(play => person.id == play.pitcherId);\n              setSeason(gatherStats(myTotPlays, 1));\n            }\n          }).catch(err => {\n            console.error(err);\n          });\n\n\n      })\n    }, [playerId]);\n\n  if (actualPlayer != null && season != null) {\n    if (actualPlayer.position != 1) {\n      return (\n          <Col>\n            <strong>{actualPlayer.name}</strong>\n            <small>{(season.singles + season.doubles + season.triples + season.homeruns)/(season.aBs)}</small>\n            <small>{(season.singles + season.doubles + season.triples + season.homeruns + season.bbs)/(season.pAs)}</small>\n            <small>{((season.singles*1) + (season.doubles*2) + (season.triples*3) + (season.homers*4))/(season.aBs)}</small>\n          </Col>\n      );\n    }\n    else {\n      console.log(season);\n      return (\n        <Col>\n          <strong>{actualPlayer.name}</strong>\n          <small>{(season.rA*9)/(season.outsRecord/3)}</small>\n          <small>{(season.hA + season.bbs)/(season.outsRecord/3)}</small>\n          <small>{(season.ks)/(season.outsRecord/3)}</small>\n        </Col>\n\n      );\n\n    }\n  }\n\n  return (<div>Loading...</div>);\n\n\n\n\n}\n\nexport default LineupPlayer;\n"]},"metadata":{},"sourceType":"module"}